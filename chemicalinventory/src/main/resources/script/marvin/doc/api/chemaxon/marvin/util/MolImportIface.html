<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_08) on Fri Mar 24 18:19:41 CET 2006 -->
<TITLE>
MolImportIface (Marvin API documentation (c) 1998-2006 ChemAxon Ltd.)
</TITLE>

<META NAME="keywords" CONTENT="chemaxon.marvin.util.MolImportIface interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MolImportIface (Marvin API documentation (c) 1998-2006 ChemAxon Ltd.)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../chemaxon/marvin/util/MolExportModule.html" title="class in chemaxon.marvin.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MolImportIface.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
chemaxon.marvin.util</FONT>
<BR>
Interface MolImportIface</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../chemaxon/marvin/util/MDocumentImportIface.html" title="interface in chemaxon.marvin.util">MDocumentImportIface</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../chemaxon/marvin/modules/MolImport.html" title="class in chemaxon.marvin.modules">MolImport</A></DD>
</DL>
<HR>
<DL>
<DT>public interface <B>MolImportIface</B></DL>

<P>
Molecule reader interface.
 Implemented by import modules.
 <p>
 <i>Example</i><br>
 I want to read a molecule from a file in a special format ("myformat")
 that stores the molecule name, the atom symbols, the x, y coordinates and
 the bond orders:
 <blockquote><pre>
 Pyrrole
 5
 N -0.09625  2.75245
 C -1.42989  3.52245
 C -1.42989  5.06245
 C  1.23739  5.06245
 C  1.23739  3.52245
 5
 1 2 1
 2 3 2
 3 4 1
 4 5 2
 5 1 1
 </pre></blockquote>
 To read this file ("pyrrole.myf"), I create an import module for "myformat":
 <p>
 <hr><blockquote><pre>
 package chemaxon.marvin.modules;
 
 import chemaxon.struc.*;
 import chemaxon.formats.MolInputStream;
 import java.io.IOException;
 import java.util.StringTokenizer;
 
 public class MyformatImport implements chemaxon.marvin.util.MolImportIface
 {
     private MolInputStream istream;
 
     public void <A HREF="../../../chemaxon/marvin/util/MolImportIface.html#initMolImport(chemaxon.formats.MolInputStream, java.lang.String)"><CODE>initMolImport</CODE></A>(<A HREF="../../../chemaxon/formats/MolInputStream.html" title="class in chemaxon.formats"><CODE>MolInputStream</CODE></A> mis, String opts) {
         istream = mis;
     }
 
     public boolean <A HREF="../../../chemaxon/marvin/util/MolImportIface.html#readMol(chemaxon.struc.Molecule)"><CODE>readMol</CODE></A>(<A HREF="../../../chemaxon/struc/Molecule.html" title="class in chemaxon.struc"><CODE>Molecule</CODE></A> mol) throws IOException {
         // initialize molecule object
         mol.<A HREF="../../../chemaxon/struc/Molecule.html#clearForImport(java.lang.String)"><CODE>clearForImport</CODE></A>("myformat");
         mol.<A HREF="../../../chemaxon/struc/Molecule.html#setStartPosition(long)"><CODE>setStartPosition</CODE></A>(istream.getFilePointer());
 
         // read the molecule
         int lineCount = 1;
         String line = istream.readLine();
         if(line == null) // end of file
             return false;
         mol.setName(line.trim()); // set molecule name
         mol.setDim(2);            // set number of dimensions
         try {
             ++lineCount;
             line = istream.readLine();
             int numAtoms = Integer.parseInt(line.trim());
             for(int i = 0; i < numAtoms; ++i) {
                 ++lineCount;
                 line = istream.readLine();
                 StringTokenizer st = new StringTokenizer(line);
                 int atno = MolAtom.numOf(st.nextToken());
                 double x = Double.valueOf(st.nextToken()).doubleValue();
                 double y = Double.valueOf(st.nextToken()).doubleValue();
                 <A HREF="../../../chemaxon/struc/MolAtom.html" title="class in chemaxon.struc"><CODE>MolAtom</CODE></A> a = mol.<A HREF="../../../chemaxon/struc/Molecule.html#reuseAtom(int, int)"><CODE>reuseAtom</CODE></A>(atno, i);
                 a.<A HREF="../../../chemaxon/struc/MolAtom.html#setXY(double, double)"><CODE>setXY</CODE></A>(x, y);
             }
             mol.<A HREF="../../../chemaxon/struc/Molecule.html#endReuse(int)"><CODE>endReuse</CODE></A>(numAtoms);
             ++lineCount;
             line = istream.readLine();
	       int numBonds = Integer.parseInt(line.trim());
             for(int i = 0; i < numBonds; ++i) {
                 ++lineCount;
                 line = istream.readLine();
                 StringTokenizer st = new StringTokenizer(line);
                 int atomIndex1 = Integer.parseInt(st.nextToken()) - 1;
                 int atomIndex2 = Integer.parseInt(st.nextToken()) - 1;
                 int order = Integer.parseInt(st.nextToken());
                 <A HREF="../../../chemaxon/struc/MolBond.html" title="class in chemaxon.struc"><CODE>MolBond</CODE></A> b = new MolBond(mol.<A HREF="../../../chemaxon/struc/MoleculeGraph.html#getAtom(int)"><CODE>getAtom</CODE></A>(atomIndex1),
                                         mol.getAtom(atomIndex2), order);
                 mol.<A HREF="../../../chemaxon/struc/CGraph.html#add(chemaxon.struc.CEdge)"><CODE>add</CODE></A>(b);
                 mol.<A HREF="../../../chemaxon/struc/MoleculeGraph.html#valenceCheck()"><CODE>valenceCheck</CODE></A>(null); // to set the implicit hydrogens
             }
         } catch(NumberFormatException ex) {
             throw new IOException(String.valueOf(lineCount)+": error in molecule file");
         }
 
         // memorize the last file position corresponding to this molecule
         mol.<A HREF="../../../chemaxon/struc/Molecule.html#setEndPosition(long)"><CODE>setEndPosition</CODE></A>(istream.getFilePointer());
         return true;
     }
 
     public boolean <A HREF="../../../chemaxon/marvin/util/MolImportIface.html#createMol()"><CODE>createMol</CODE></A>() {
         return new Molecule();
     }

     public boolean <A HREF="../../../chemaxon/marvin/util/MolImportIface.html#skipToNext()"><CODE>skipToNext</CODE></A>() {
         // skipping is not supported
         return false;
     }
 }
 </pre></blockquote><hr>
 <p>
 After compiling and placing the class into Marvin's CLASSPATH, I can
 read pyrrole.myf with Marvin applications,
 <blockquote><pre>
 molconvert smiles "pyrrole.myf(myformat:)"

 msketch "pyrrole.myf(myformat:)"

 mview "pyrrole.myf(myformat:)"
 </pre></blockquote>
 and the applets:
 <blockquote><pre>
 &lt;param NAME="mol" VALUE="pyrrole.myf(myformat:)"&gt;

 msketch.setMol("pyrrole.myf(myformat:)");
 </pre></blockquote>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>Marvin 2.2</DD>
<DT><B>Version:</B></DT>
  <DD>3.4, 05/08/2004</DD>
<DT><B>Author:</B></DT>
  <DD>Peter Csizmadia</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../chemaxon/struc/Molecule.html" title="class in chemaxon.struc">Molecule</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../chemaxon/marvin/util/MolImportIface.html#createMol()">createMol</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new target molecule object for the import.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../chemaxon/marvin/util/MolImportIface.html#initMolImport(chemaxon.formats.MolInputStream, java.lang.String)">initMolImport</A></B>(<A HREF="../../../chemaxon/formats/MolInputStream.html" title="class in chemaxon.formats">MolInputStream</A>&nbsp;is,
              java.lang.String&nbsp;options)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../chemaxon/marvin/util/MolImportIface.html#readMol(chemaxon.struc.Molecule)">readMol</A></B>(<A HREF="../../../chemaxon/struc/Molecule.html" title="class in chemaxon.struc">Molecule</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reads the next molecule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../chemaxon/marvin/util/MolImportIface.html#skipToNext()">skipToNext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Skips the remaining parts of the current molecule and positions the
 file pointer to the next one.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="initMolImport(chemaxon.formats.MolInputStream, java.lang.String)"><!-- --></A><H3>
initMolImport</H3>
<PRE>
public void <B>initMolImport</B>(<A HREF="../../../chemaxon/formats/MolInputStream.html" title="class in chemaxon.formats">MolInputStream</A>&nbsp;is,
                          java.lang.String&nbsp;options)
                   throws java.io.IOException</PRE>
<DL>
<DD>Initialization.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>is</CODE> - readMol will read this stream<DD><CODE>options</CODE> - import options or null
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - an error occured while reading the file</DL>
</DD>
</DL>
<HR>

<A NAME="readMol(chemaxon.struc.Molecule)"><!-- --></A><H3>
readMol</H3>
<PRE>
public boolean <B>readMol</B>(<A HREF="../../../chemaxon/struc/Molecule.html" title="class in chemaxon.struc">Molecule</A>&nbsp;m)
                throws java.io.IOException</PRE>
<DL>
<DD>Reads the next molecule.
 Implementations must call
 <A HREF="../../../chemaxon/struc/Molecule.html#clearForImport(java.lang.String)"><CODE>clearForImport</CODE></A> and
 <A HREF="../../../chemaxon/struc/Molecule.html#setStartPosition(long)"><CODE>setStartPosition</CODE></A> before beginning
 to read the stream, and
 <A HREF="../../../chemaxon/struc/Molecule.html#setEndPosition(long)"><CODE>setEndPosition</CODE></A> after the last byte.
 (File position information is needed by Marvin when overwriting
 multi-molecule files.)
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - the file is in bad format or could not read</DL>
</DD>
</DL>
<HR>

<A NAME="skipToNext()"><!-- --></A><H3>
skipToNext</H3>
<PRE>
public boolean <B>skipToNext</B>()</PRE>
<DL>
<DD>Skips the remaining parts of the current molecule and positions the
 file pointer to the next one. Use this method if an error occured but
 you want to continue reading the file.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the end of the current molecule is found, false if there
         is no chance to continue</DL>
</DD>
</DL>
<HR>

<A NAME="createMol()"><!-- --></A><H3>
createMol</H3>
<PRE>
public <A HREF="../../../chemaxon/struc/Molecule.html" title="class in chemaxon.struc">Molecule</A> <B>createMol</B>()</PRE>
<DL>
<DD>Creates a new target molecule object for the import.
<P>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>Marvin 3.4, 05/08/2004</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../chemaxon/marvin/util/MolExportModule.html" title="class in chemaxon.marvin.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MolImportIface.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
