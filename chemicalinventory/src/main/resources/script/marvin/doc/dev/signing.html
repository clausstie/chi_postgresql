<html>
<head>
<meta NAME="author" CONTENT="Gabor Bartha">
<link REL ="stylesheet" TYPE="text/css" HREF="../../marvinmanuals.css" TITLE="Style">
<title>Signed Marvin Applets</title>
</head>
<body>
<h1>Signed Marvin Applets</h1>
<p>
Signed applets are <strong>trusted</strong>, they are allowed to access local system resources, e.g. to open or save files on local machine or to access the <a href="../user/datatransfer.html#signedapp">system's clipboard</a>.</p>

<h2>Signing</h2>
<p>
<blockquote>
"Signed applet" means that the <code>jar</code> file that contains the applet is signed.  A signed <code>jar</code> file can be downloaded from a standard HTTP server, just like any other <code>jar</code> file. However, for the signed applet to be trusted, the local system must trust the key that was used to sign the <code>jar</code> file. When a user encounters a signed applet, a security dialog pops up, which tells the user who signed the applet and provides four options:
<ol>
    <li>Grant always: If selected, the applet will be granted "AllPermission". Any signed applet that is signed using the same certificate will be trusted automatically in the future, and no security dialog will pop up again. This decision can be changed from the Java Plug-in Control Panel.
    <li>Grant this session: If selected, the applet will be granted "AllPermission". Any signed applet that is signed using the same certificate will be trusted automatically within the same browser session.
    <li>Deny: If selected, the applet will be granted the applicable permissions from the security policy of the Java runtime. By default, the permissions granted would be those for untrusted applets.
    <li>More Info: If selected, users can examine the attributes of each certificate in the certificate chain in the <code>jar</code> file.
</ol><p>
Once the user selects an option from the security dialog, the applet will be run in the corresponding security context. Note that all these decisions are determined on the fly, and no preconfiguration is required.
</p>
<p>
Our applets are signed by <a href="http://www.thawte.com">Thawte's</a> Java Code Signing Certificate which uses JDK 1.3 codesigning tool. 
</p>
</blockquote>
<h2>Signed Swing applets</h2>
<blockquote>
    <p>The Swing versions of both the MarvinSketch and MarvinView applets are signed.
    If you need unsigned Marvin applets, use the AWT version of the applets or 
    <a href="appletfaq.html#unsign_jar">unsign signed jar files</a>
    (<code>jmarvin.jar</code> and all jar files in the <code>sjars</code> direcory).
</p>
</blockquote>
<h2><a name="compatibility"></a>Compatibility</h2>
<blockquote>
<p>Since signed MarvinSketch and MarvinView applets use Thawte's Java Code Signing Certificate, they work only if the client machine has version 1.3 or later of the Java Runtime Environment installed. </p>
<p><a href="applet-platforms.html#swing">More details</a></p>
</blockquote>
<h2><a name="example"></a>Example</h2>
<center>
<script LANGUAGE="JavaScript1.1" SRC="../../marvin.js"></script>

<script LANGUAGE="JavaScript1.1">
<!--
msketch_begin("../..", 460, 380);
msketch_end();
//-->
</script>
</center>

<p>
The traditional way to put the signed MarvinSketch applet (with SVG support) into a web page is by 
using the following HTML:
<blockquote>
<pre>
<strong>&lt;applet CODEBASE</strong>="../.." <strong>ARCHIVE</strong>=&quot;sjmarvin.jar&quot; <strong>CODE</strong>=&quot;MSketch&quot; <strong>WIDTH</strong>=460 <strong>HEIGHT</strong>=380<strong>&gt;</strong>
<strong>&lt;strong&gt;</strong>(YOU CANNOT SEE A JAVA APPLET HERE)<strong>&lt;/strong&gt;</strong>
<strong>&lt;/applet&gt;</strong>
</pre>
</blockquote>
<!--As it is mentioned <a href="#compatibility">above</a> our signed applet cannot 
be used with every browser and java version. There is a useful function in 
<a HREF="marvin.js.txt">marvin.js</a> which can determine whether signed applet
can be used or not.-->
<blockquote>
<pre>
<strong>&lt;script LANGUAGE</strong>=&quot;JavaScript1.1&quot; <strong>SRC</strong>=&quot;../../<a HREF="marvin.js.txt">marvin.js</a>&quot;<strong>&gt;&lt;/script&gt;</strong>
<strong>&lt;script LANGUAGE</strong>=&quot;JavaScript1.1&quot;<strong>&gt;</strong>
<strong>&lt;!--</strong>
<strong>msketch_begin(</strong>&quot;../..&quot;<strong>,</strong> 460<strong>,</strong> 380<strong>);</strong> <em>// arguments: CODEBASE, WIDTH, HEIGHT</em>
<strong>msketch_end();</strong>
<strong>//--&gt;</strong>
<strong>&lt;/script&gt;</strong>
</pre>
</blockquote>
<!--<p>For SVG export, <code>sbatik-core.jar</code> is also required. In above example this jar file has not been 
downloaded for the faster starting of the applet.
If you would like to save your structure in SVG image format, append this jar file to the applet tag's archive list.
For more details see the following example: <a href="signed-svg.html">signed applet with SVG export</a>.
</p>-->
</body>
</html>
